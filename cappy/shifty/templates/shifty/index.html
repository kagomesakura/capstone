<!DOCTYPE html>
    {% load static %}
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.css" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.print.css" rel="stylesheet" media="print"/>


        <style>
            .ui-datepicker-prev {
                background-color: teal;
                margin-right: 10%;

        }
              .ui-datepicker-prev:hover {
                cursor: pointer;

        }
            .ui-datepicker-next {
                background-color: teal;
                margin-right: 10%;

        }
              .ui-datepicker-next:hover {
                cursor: pointer;

        }
        </style>
        <script>

 $(document).ready(function() {

        $('#calendar').fullCalendar({
            header: {
                left: 'prev,next',
                center: 'title',
                right: 'prevYear, nextYear, month,agendaWeek,agendaDay'
            },
            buttonText: {
               prevYear: new moment().year()-1,
               nextYear: new moment().year()+1
           },
           viewRender: function (view) {
               var y = moment($('#calendar').fullCalendar('getDate')).year();
               $(".fc-prevYear-button").text(y-1);
               $(".fc-nextYear-button").text(y+1);
           },
            // defaultDate: '',
            navLinks: true,
            selectable: true,
            selectHelper: true,
            select: function(start, end) {
                $('#starts-at').val(start.format('MM/DD/YYYY'));

                $( "#ends-at" ).datepicker();
                $('.modal').modal('show');
            },
            eventClick: function(event, element) {
                $('.modal').modal('show');
                $('.modal').find('#title').val(event.title);
                $('.modal').find('#starts-at').val(event.start);
                $('.modal').find('#ends-at').val(event.end);

            },

               minTime: "05:00:00",
               maxTime: "22:00:00",
               editable: true,
               eventLimit: true

        });


        $('#save-event').on('click', function() {
            var title = $('#title').val();
            if (title) {
                var eventData = {
                    title: title,
                    start: $('#starts-at').val(),
                    end: $('#ends-at').val()
                };
                $('#calendar').fullCalendar('renderEvent', eventData, true);
            }
            $('#calendar').fullCalendar('unselect');

            // Clear modal inputs
            $('.modal').find('input').val('');


            $('.modal').modal('hide');
        });
    });





    </script>
<head>
    <meta charset="UTF-8">
    <title>Shifti</title>

</head>
<link rel="stylesheet" type="text/css" href="{% static '/bstheme.css' %}">


 <body>

<div id='calendar'></div>
<div id='datepicker'></div>

<div class="modal fade" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title">Create new event</h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <label class="col-xs-4" for="title">User Name: </label>
                        <input type="text" name="title" id="title" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <label class="col-xs-4" for="starts-at">Starting Day: </label>
                        <input type="datetime" placeholder="MM/DD/YYYY" name="starts_at" id="starts-at" />
                    </div>
                </div>
                <div class="row">
                    <div class="col-xs-12">
                        <label class="col-xs-4" for="ends-at">Ending Day: </label>
                        <input type="datetime" placeholder="MM/DD/YYYY" name="ends_at" id="ends-at" />
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" id="save-event">Save changes</button>
            </div>
        </div>
    </div>
</div>








</body>
<script>

</script>
</html>